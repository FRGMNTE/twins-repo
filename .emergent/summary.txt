<analysis>**original_problem_statement:** The user wants to build a full-fledged family website for , evolving from an initial ZIP file. The goal is a professional, minimalist Apple-style website with a comprehensive, password-protected admin dashboard to manage all content (pages, blog, gallery, news), site appearance, and navigation. A key requirement is to make the entire application independently deployable, with the frontend on Hostinger and the backend on a service like Railway, completely detaching it from the agent's online status.

PRODUCT REQUIREMENTS:
-   A comprehensive, password-protected admin dashboard.
-   Dynamic rendering of all content pages, editable from the admin panel.
-   Rich-text and structured editors for content creation.
-   A paperkorb (trash) system for pages and blog posts.
-   A professional, redesigned landing page with editable sections and a news carousel.
-   An advanced search function that covers all site content.
-   A modern, compliant cookie banner.
-   **CRITICAL**: The entire project must be refactored and prepared for a standard full-stack deployment (e.g., Frontend on Hostinger, Backend/DB on Railway) to ensure it runs independently of the Emergent environment.

**User's preferred language**: German

**what currently exists?**
A feature-complete full-stack application with a FastAPI backend and a React frontend. The backend  is currently a monolithic file. The site features a dynamic, customizable theme managed through a comprehensive admin dashboard. All content, including previously static pages, is now fetched from a MongoDB database and is editable through the admin panel. The application has been thoroughly tested in the current session and is functionally stable.

**Last working item**:
-   **Last item agent was working**: The agent was about to start the crucial task of preparing the entire project for independent deployment, as per the user's detailed instructions. This involves a significant refactoring of the backend and setting up configuration files for production environments.
-   **Status**: NOT STARTED
-   **Agent Testing Done**: N/A
-   **Which testing method agent to use?** both. After the backend refactoring and configuration changes, a full test of both the backend API and frontend is required to ensure no regressions were introduced.
-   **User Testing Done**: N

**All Pending/In progress Issue list**:
There are no known bugs or issues. The current focus is entirely on the deployment preparation task.

**In progress Task List**:
-   **Task 1: Prepare Project for Independent Deployment** (Priority: P0)

**Task Detail**:
-   **Task 1: Prepare Project for Independent Deployment**
    -   **Where to resume**: Start by executing the plan provided by the user in message #405.
    -   **Action Items**:
        1.  **Refactor Backend**: Break down the monolithic  into a Railway-compatible structure:
            -    (FastAPI app instance)
            -    (MongoDB connection logic)
            -    (Pydantic models)
            -    directory with separate files for different concerns (e.g., , , ).
        2.  **Create Config Files**:
            -   : Create with the specified build and deploy commands.
            -   : Create with placeholders for  and .
            -   : Create with a placeholder for .
        3.  **Update **: Ensure all backend dependencies are correctly listed.
        4.  **Create Deployment Guide**: Create/update  with clear, step-by-step instructions for deploying the backend to Railway and the frontend to Hostinger.
        5.  **Finalize **: Add a  script as requested.
        6.  **Clean Production Build**: Ensure the  is clean of any emergent-specific scripts for the final build.
    -   **What will be achieved with this?**: The project will be fully prepared for export to GitHub and subsequent deployment on standard hosting platforms (Hostinger/Railway), making the application persistent and independent of the agent's environment.
    -   **Status**: NOT STARTED
    -   **Should Test frontend/backend/both after fix?**: Both.
    -   **Blocked on something**: No.

**Upcoming and Future Tasks**
-   **Upcoming Tasks**:
    -   **P1: Implement Admin Login via Email Code:** Replace the current hardcoded password with a more secure email-based one-time code system.
    -   **P1: Analytics Integration:** Add the ability to insert a Google Analytics 4 tag via the admin panel.
-   **Future Tasks**:
    -   **P2: Full E-commerce Functionality:** Implement a shop with Stripe integration.
    -   **P2: Accessibility Audit (BITV 2.0):** Conduct a full review and implement ARIA labels and keyboard navigation enhancements.
    -   **P2: Performance Optimizations:** Implement lazy-loading and WebP conversion for gallery images.

**Completed work in this session**
-   **Content System Overhaul**: Successfully migrated all static design pages (, , , etc.) to be fully dynamic, fetching their content from the database.
-   **Advanced Admin Editors**:
    -   Created a Seiten-Inhalte editor in the admin panel to manage the content of the design pages, including a JSON source-code view.
    -   Created a Rechtliches tab to manage , , and a new  page.
    -   Vastly improved the Landing Page editor, adding controls for hero content, video backgrounds, and on/off toggles for every major section of the home page.
-   **Bug Fixes & Feature Completion**:
    -   **Search Fixed**: Implemented a new backend-driven search endpoint () that correctly queries all content types (blog posts, dynamic pages, design pages).
    -   **Blog View Fixed**: Created a dedicated  page and  route to correctly display individual blog posts. The home page now also prominently features the latest post.
    -   **Cookie Banner Modernized**: Replaced the old banner with a modern, compliant one featuring clear options, functioning links, and a Details view.
-   **Production Preparation**:
    -   Addressed user's flickering issue by diagnosing it as a backend-offline problem and proposing the full deployment solution.
    -   Added cache-busting  rules and meta tags to .
    -   Cleaned emergent-specific tracking scripts from .

**Earlier issues found/mentioned but not fixed**
-   **Issue 1: Potential False Positives in Test Report**: A previous frontend test report noted minor UI bugs (Admin tabs rendering, mobile menu expansion). The agent manually verified with screenshots and concluded they were not reproducible. This should be re-verified in the next full test cycle to be certain.

**Known issue recurrence from previous fork**
-   None.

**Code Architecture**

**Target Backend Architecture (Post-Refactor):**


**Key Technical Concepts**
-   **Backend:** FastAPI
-   **Frontend:** React, Tailwind CSS
-   **Database:** MongoDB
-   **Architecture:** Decoupled frontend/backend. All content is dynamically rendered from the database.
-   **State Management:** React Context API, , .

**key DB schema**
-   ****: Single document for global settings (nav, footer, social links, etc.).
-   ****: For pages created with the rich-text editor.
-   ****: For blog entries.
-   ****: For the home page news carousel.
-   ** (New)**: Stores content for legal pages (Impressum, Datenschutz, Cookies) in a structured format.
-   ** (New)**: Stores content for the themed design pages (Schwangerschaft, Tipps, etc.).
-   ** (New)**: Stores all editable content and settings for the landing page.

**All files of reference**
-   **/app/backend/server.py**: Heavily modified. Contains all API logic and is the target for the upcoming refactor.
-   **/app/frontend/src/pages/Admin.js**: Massively expanded to manage all new content types and settings.
-   **/app/frontend/src/pages/Suchen.js**: Rewritten to use the new unified backend search.
-   **/app/frontend/src/pages/Home.js**: Rewritten to load all content and section visibility from the  collection.
-   **/app/frontend/src/pages/BlogPost.js**: New file for displaying single blog posts.
-   **/app/frontend/src/pages/Cookies.js**: New file for the cookie policy.
-   **/app/frontend/src/pages/{Schwangerschaft, BabyAlltag, Tipps, etc.}.js**: All rewritten to be dynamic containers that fetch their content from the  collection.
-   **/app/frontend/src/components/CookieBanner.js**: Completely rewritten with a modern UI.
-   **/app/frontend/public/index.html**: Modified for production (cache control, script removal).
-   **/app/frontend/public/.htaccess**: New file for Apache cache control.

**Areas that need refactoring**
-   The entire  file must be refactored into a multi-file structure suitable for production deployment on Railway, as detailed in the In progress Task List.

**key api endpoints**
-   : New unified search endpoint.
-   : New endpoint for single blog posts.
-   : For legal pages.
-   : For themed design pages.
-   : For all landing page settings.

**Critical Info for New Agent**
-   Your **only priority** is to execute the deployment preparation task outlined by the user in message #405. Do not start any new feature development.
-   The goal is to refactor the project so it can be exported to GitHub and deployed independently on Hostinger (frontend) and Railway (backend).
-   Follow the user's detailed plan for the backend refactoring (splitting ), creating  files, and generating a  with deployment instructions.
-   After the refactoring, perform a full sanity check to ensure all application functionality is still working as expected before finishing the task.

**documents and test reports created in this job**
-   
-   

**Last 10 User Messages and any pending HUMAN messages**
1.  **User (372):** Asks how to export the code as a ZIP/static build. (Completed)
2.  **Agent (375):** Responds with deployment options, recommending GitHub export. (Completed)
3.  **User (376):** Asks where the admin password is stored for external hosting. (Completed)
4.  **Agent (378):** Shows the location of the default password in the backend code. (Completed)
5.  **User (379):** Requests the cookie banner to be modernized and a broken link fixed. (Completed)
6.  **Agent (391):** Confirms the new modern cookie banner is working correctly. (Completed)
7.  **User (392):** Reports a flickering issue on their Hostinger deployment where an old version shows briefly. (Completed)
8.  **Agent (404):** Correctly diagnoses the issue as architectural: the backend is offline when the agent is offline, causing API calls to fail. Proposes solutions. (Completed)
9.  **User (405):** Provides a detailed, technical plan to prepare the project for a full independent deployment on Railway (backend) and Hostinger (frontend). This is the current, active request. (Pending)
10. **Agent (406):** Acknowledges the user's plan and is about to start the implementation. (Pending)

**Project Health Check:**
-   **Broken**: None
-   **Mocked**: The entire application is functionally dependent on the agent's environment being online. The primary task is to resolve this by preparing for independent deployment.

**3rd Party Integrations**
-   **PayPal**: Simple  link.
-   **Lucide React**: For icons.

**Testing status**
-   **Testing agent used after significant changes**: YES. Backend and Frontend tests were run successfully after implementing the dynamic legal pages.
-   **Troubleshoot agent used after agent stuck in loop**: NO
-   **Test files created**: None.
-   **Known regressions**: None.

**Credentials to test flow:**
-   **Admin URL**: 
-   **Admin Password**: 

**What agent forgot to execute**
-   The agent has not forgotten anything. It is poised to begin the main task requested by the user: preparing the project for independent deployment.</analysis>
